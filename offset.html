<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>offset</title>
	<style>
		*{margin:0;padding: 0;}
		#div2{width:400px;height:400px;background:#0f0;margin-left:10px;position: relative;}
		#div3{width:300px;height:300px;background:#00f;margin-left:10px;}
		#div4{width:200px;height:200px;background:#000;margin-left:10px;}
	</style>
</head>
<body>
	<!-- http://www.android100.org/html/201405/23/13070.html -->

	<div id="div2">
		<div id="div3">
			<div id="div4"></div>
		</div>
	</div>

	<div id="b" style="position:relative">
        <div id="a"></div>
    </div>
    <div id="d">
        <div id="c"></div>
    </div>
    <div id="f">
        <div id="e" style="position:relative"></div>
    </div>

	
	<div id="g">
		<div id="h"></div>
	</div>
	<style>
		#g{position:relative; background:#E3EBF4; width:300px; height:300px; border:20px solid #628DC0;}
		#h{position:absolute; background:#9E9E9E; width:100px; height:100px; left:100px; top:100px;}
	</style>

	<script>
		var d4 = document.getElementById('div4');
		console.log(d4.offsetLeft);
		console.log(d4.offsetParent);

		// 封装一个函数获得任一元素在页面的位置
		// IE6,IE7 对offsetParent解释有个小BUG，当祖先元素都不是定位元素且本身是定位元素的时候返回document.documentElement，其他情况终返回document.body!!
		var getPosition = function(ele){
			var left = 0;
			var top = 0;
			while(ele.offsetParent){
				left += ele.offsetLeft;
			 	top += ele.offsetTop;
			 	ele = ele.offsetParent;
			}

			return {
				"left" : left,
				"top" : top
			}
		};

		var a = document.getElementById('a');
		var c = document.getElementById('c');
		var e = document.getElementById('e');
		console.log(a.offsetParent);//b
		console.log(c.offsetParent);//body
		console.log(e.offsetParent);//body

		var h = document.getElementById('h');
		console.log(h.offsetLeft);//100
	</script>

</body>
</html>